{{ "<!-- begin: layouts/partials/head.html -->" | safeHTML }}
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {{ if not (hasPrefix .RelPermalink "/blog") }}
        <title>{{- .Site.Author.name -}}{{ with .Title }} - {{ . }}{{ end }}</title>
    {{ else }}
        <title>{{ with .Title }}{{- . }} - {{ end }}{{ .Site.Title -}}</title>
    {{ end }}

    {{ $description := (.Description | default .Summary) | markdownify }}
    <meta name="description" content="{{ $description }}">

    {{- $options := (dict "TargetPath" "main.css" "outputStyle" "compressed" "enableSourceMap" true) -}}
    {{- $style := resources.Get "sass/main.scss" | resources.ToCSS $options -}}
    <link rel="icon" type="image/svg" href="/static/favicon.png">
    <link rel="stylesheet" href="{{- $style.RelPermalink -}}">
    <link rel="canonical" href="{{- .Permalink -}}">

    <!-- Alternative Formats -->
    {{- range .AlternativeOutputFormats -}}
    {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` 
        .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
    {{- end -}}

    <!-- MathJax -->
    {{- if .Params.MathJax -}}
    <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
                CommonHTML: { linebreaks: { automatic: true } },
            });
        </script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_CHTML"></script>
    {{- end -}}

    <!-- Fonts  -->
    <link href="https://cdn.jsdelivr.net/npm/charter-webfont/charter.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

</head>
{{ "<!-- end: layouts/partials/head.html -->" | safeHTML }}